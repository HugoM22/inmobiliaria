@model Inmobiliaria1.Models.Usuario
@using Inmobiliaria1.Models
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<div class="mb-3">
    <label asp-for="Email" class="form-label"></label>
    <input asp-for="Email" class="form-control" />
    <span asp-validation-for="Email" class="text-danger"></span>
</div>

@if (ViewBag.ShowPasswordInput == true)
{
    <div class="mb-3">
        <label class="form-label">Contraseña</label>
        <input name="password" type="password" class="form-control" />
        <div class="form-text">Se guardará hasheada.</div>
    </div>
}
else
{
    <div class="mb-3">
        <label class="form-label">Nueva contraseña (opcional)</label>
        <input name="password" type="password" class="form-control" />
    </div>
}

<div class="mb-3">
    <label asp-for="Rol" class="form-label">Rol</label>
    <select asp-for="Rol" class="form-select" asp-items="Html.GetEnumSelectList<RolUsuario>()"></select>
    <span asp-validation-for="Rol" class="text-danger"></span>
</div>

<div class="form-check form-switch mb-3">
    <input class="form-check-input" type="checkbox" asp-for="Activo" />
    <label class="form-check-label" asp-for="Activo">Activo</label>
</div>

<div class="mb-3">
    <label class="form-label">Avatar (opcional)</label>
    <input name="avatarFile" type="file" class="form-control" accept="image/*" />
    @if (!string.IsNullOrEmpty(Model.Avatar))
    {
        <div class="mt-2 d-flex align-items-center gap-3">
            <img src="@Url.Content(Model.Avatar)" style="height:60px;width:60px;object-fit:cover;border-radius:12px;" />
            <span class="text-muted small">@Model.Avatar</span>
        </div>
    }
</div>
