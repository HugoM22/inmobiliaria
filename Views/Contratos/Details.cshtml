@model Inmobiliaria1.Models.Contrato
@{
    ViewData["Title"] = "Detalle de Contrato";

    string inmuebleStr = Model.Inmueble != null
        ? Model.Inmueble.Direccion
        : $"(Id: {Model.InmuebleId})";

    string inquilinoStr = Model.Inquilino != null
        ? $"{Model.Inquilino.Apellido}, {Model.Inquilino.Nombre}"
        : $"(Id: {Model.InquilinoId})";

    string fechaInicioStr = Model.FechaInicio.ToString("yyyy-MM-dd");
    string fechaFinStr    = Model.FechaFin.ToString("yyyy-MM-dd");
    string fechaFinEfStr  = Model.FechaFinEfectiva?.ToString("yyyy-MM-dd") ?? "—";

    string estadoStr = Model.Estado.ToString();

    string creadoPorStr = Model.CreadoPor?.Email ?? $"(Id: {Model.CreadoPorUsuarioId})";
    string finalizadoPorStr = Model.FinalizadoPor?.Email
        ?? (Model.FinalizadoPorUsuarioId.HasValue ? $"(Id: {Model.FinalizadoPorUsuarioId})" : "—");
}

<h1>@ViewData["Title"]</h1>
<hr />

<div class="card mb-3">
    <div class="card-header">Contrato #@Model.Id</div>
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-3">Inmueble</dt>
            <dd class="col-sm-9">@inmuebleStr</dd>

            <dt class="col-sm-3">Inquilino</dt>
            <dd class="col-sm-9">@inquilinoStr</dd>

            <dt class="col-sm-3">Fecha inicio</dt>
            <dd class="col-sm-9">@fechaInicioStr</dd>

            <dt class="col-sm-3">Fecha fin (pactada)</dt>
            <dd class="col-sm-9">@fechaFinStr</dd>

            <dt class="col-sm-3">Fecha fin efectiva</dt>
            <dd class="col-sm-9">@fechaFinEfStr</dd>

            <dt class="col-sm-3">Estado</dt>
            <dd class="col-sm-9">@estadoStr</dd>

            <dt class="col-sm-3">Monto mensual</dt>
            <dd class="col-sm-9">@string.Format("{0:N2}", Model.MontoMensual)</dd>

            <dt class="col-sm-3">Creado por</dt>
            <dd class="col-sm-9">@creadoPorStr</dd>

            <dt class="col-sm-3">Finalizado por</dt>
            <dd class="col-sm-9">@finalizadoPorStr</dd>
        </dl>
    </div>
</div>

<div class="d-flex gap-2">
    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Editar</a>
    <a class="btn btn-outline-primary" asp-controller="Pagos" asp-action="Index" asp-route-contratoId="@Model.Id">Ver pagos</a>
    <a asp-action="Index" class="btn btn-secondary">Volver</a>
</div>



